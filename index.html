<!DOCTYPE html>
<html>
  <head>
    <title>OMG STREAMS</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      .remark-slide-content { vertical-align: middle; font-size: 35px;}
      .red { color: red;}
    </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# OMG STREAMS
### with Pam Selle, @pamasaur thewebivore.com

---

class: center, middle

# Thesis:
Streams are the most &#x1F31F;awesome&#x1F31F; data structure you didn't know enough about

---

# Agenda

* Step 1: Streams? STREAMS!!!
* Step 2: Streams in JavaScript
* Step 3: Streams in the wild

---

# Step 1: Streams? STREAMS!!!

---

# Streams?

---

# History

---

# Unix!

---

# All glory to "pipe"

---

> cat bestanimals.txt | grep -i cats

---

> cat bestanimals.txt .red[|] grep -i cats

---

# But what ARE streams?

---

# Streams are an abstract data structure

---

# REAL WORLD DEMO

---

# SICP says "Streams are delayed lists"

---

# Why streams?

* Can't/don't want to hold everything in memory
* Bandwidth is expensive

---

# STREAMS!!!

---

# Represent possibly INFINITE DATA

---

# INFINITE

---

# DATA

---

# = WIZARDS

---

# What are some things that don't have an end?

---

* Natural numbers
* Natural phenomena
* User input
* Large data sets*
* Your heartbeat*

---

# “Stream processing lets us model systems that have state without ever using assignment or mutable data.” - SICP

---

# AWESOME

---

# AGAIN! AGAIN!

---

# “Stream processing lets us model systems that have state without ever using assignment or mutable data.” - SICP

---

# Push &amp; Pull Modes

---

# Push: Firehose
IMAGE

---

# Push: Firehose
* Callbacks
* Non-blocking
* Downside is possible overload

---

# Pull: More please
IMAGE

---

# Pull: More please
* Iterators
* Blocking
* Timeout (never ever block forever)

---

# Step 2: Streams in Practice

---

# Ex: Proxy Server

---

IMAGE for proxy server

---

When are good times to use streams?

---



---

# Step 3: Streams in JavaScript

---

# Node streams

---

# Classic Example (from substack):

---

``` js
var http = require('http');
var fs = require('fs');

var server = http.createServer(function (req, res) {
    fs.readFile(__dirname + '/data.txt', function (err, data) {
        res.end(data);
    });
});
server.listen(8000);
```
---

``` js
var http = require('http');
var fs = require('fs');

var server = http.createServer(function (req, res) {
    var stream = fs.createReadStream(__dirname + '/data.txt');
    stream.pipe(res);
});
server.listen(8000);
```

---

# Links
* http://nodestreams.com/
* https://github.com/substack/stream-handbook/
* https://github.com/substack/stream-adventure/

---

# Generators!

---

# Generators are _pausable_ functions

---

# &hellip; or &hellip;

---

# PULL STREAMS?
![dramatic cat](images/dramatic-cat.gif)

---

# Ask for more when you want more
aka streams!!!

---

# You know it's a generator when &hellip;
* function*
* yield

---
More examples/explanation of how streams work

---

``` js
function* something() {
  yield 2;
}
```

---

``` js
function* something() {
  yield 2;
}
var s = something()
s.next()
```

---

# Larger generators sample

---

# Generators as iterators

http://bit.ly/1NL1NEB

(@getify's router)

---

# caniuse?

Ish. You probably want BabelJS.

---

# More on Generators
* Getify
* Axel Rauschmeyer

---

# Libraries for Working with Streams

---

# BaconJS || HighlandJS || RxJS

---

![bacon](images/friendly-baconjs.png)

---

# HighlandJS

"The Stream constructor, accepts an array of values or a generator function as an optional argument."

Possible sources: Arrays, Generators, Node readable streams, EventEmitter/jQuery Elements, Promises

---

# RxJS

Reactive things. Stream-friendly.

---

# Translation

No one can really explain what FRP is, but this video can help: https://www.youtube.com/watch?v=Agu6jipKfYw

---

# Emerging standards!

---

# Browser streams standard

https://streams.spec.whatwg.org/

---

# Fetch API

https://fetch.spec.whatwg.org/

``` js
  fetch(SOME_DATA).then(function(response) {
    return response.json() // Eventually, STREAMS!!
  }).then(function (data) {
    ...
  }).catch(function(error) {
    ...
  })
```

---

# Reactive Streams

http://www.reactive-streams.org/

(not in JavaScript &hellip; yet)

---

# Step 3: Streams in the wild

---

# Last Week Blog

---

# SpaceTime App
* http://spacetimeapp.herokuapp.com
* https://github.com/HacktheUniverse, constellation-deformation

---

Slides at

---

class: center, middle

# Thank you!

### @pamasaur | thewebivore.com | turing.cool
    </textarea>
    <script src="https://gnab.github.io/remark/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>
